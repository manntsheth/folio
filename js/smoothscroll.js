function ssc_init(){if(document.body){var e=document.body,t=document.documentElement,o=window.innerHeight,i=e.scrollHeight;if(ssc_root=document.compatMode.indexOf("CSS")>=0?t:e,ssc_activeElement=e,ssc_initdone=!0,top!=self)ssc_frame=!0;else if(i>o&&(e.offsetHeight<=o||t.offsetHeight<=o)&&(ssc_root.style.height="auto",ssc_root.offsetHeight<=o)){var s=document.createElement("div");s.style.clear="both",e.appendChild(s)}ssc_fixedback||(e.style.backgroundAttachment="scroll",t.style.backgroundAttachment="scroll"),ssc_keyboardsupport&&ssc_addEvent("keydown",ssc_keydown)}}function ssc_scrollArray(e,t,o,i){if(i||(i=1e3),ssc_directionCheck(t,o),ssc_que.push({x:t,y:o,lastX:0>t?.99:-.99,lastY:0>o?.99:-.99,start:+new Date}),!ssc_pending){var s=function(){for(var n=+new Date,a=0,c=0,r=0;r<ssc_que.length;r++){var l=ssc_que[r],h=n-l.start,v=h>=ssc_animtime,u=v?1:h/ssc_animtime;ssc_pulseAlgorithm&&(u=ssc_pulse(u));var g=l.x*u-l.lastX>>0,d=l.y*u-l.lastY>>0;a+=g,c+=d,l.lastX+=g,l.lastY+=d,v&&(ssc_que.splice(r,1),r--)}if(t){var p=e.scrollLeft;e.scrollLeft+=a,a&&e.scrollLeft===p&&(t=0)}if(o){var f=e.scrollTop;e.scrollTop+=c,c&&e.scrollTop===f&&(o=0)}t||o||(ssc_que=[]),ssc_que.length?setTimeout(s,i/ssc_framerate+1):ssc_pending=!1};setTimeout(s,0),ssc_pending=!0}}function ssc_wheel(e){ssc_initdone||ssc_init();var t=e.target,o=ssc_overflowingAncestor(t);if(!o||e.defaultPrevented||ssc_isNodeName(ssc_activeElement,"embed")||ssc_isNodeName(t,"embed")&&/\.pdf/i.test(t.src))return!0;var i=e.wheelDeltaX||0,s=e.wheelDeltaY||0;i||s||(s=e.wheelDelta||0),Math.abs(i)>1.2&&(i*=ssc_stepsize/120),Math.abs(s)>1.2&&(s*=ssc_stepsize/120),ssc_scrollArray(o,-i,-s),e.preventDefault()}function ssc_keydown(e){var t=e.target,o=e.ctrlKey||e.altKey||e.metaKey;if(/input|textarea|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||o)return!0;if(ssc_isNodeName(t,"button")&&e.keyCode===ssc_key.spacebar)return!0;var i,s=0,n=0,a=ssc_overflowingAncestor(ssc_activeElement),c=a.clientHeight;switch(a==document.body&&(c=window.innerHeight),e.keyCode){case ssc_key.up:n=-ssc_arrowscroll;break;case ssc_key.down:n=ssc_arrowscroll;break;case ssc_key.spacebar:i=e.shiftKey?1:-1,n=-i*c*.9;break;case ssc_key.pageup:n=.9*-c;break;case ssc_key.pagedown:n=.9*c;break;case ssc_key.home:n=-a.scrollTop;break;case ssc_key.end:var r=a.scrollHeight-a.scrollTop-c;n=r>0?r+10:0;break;case ssc_key.left:s=-ssc_arrowscroll;break;case ssc_key.right:s=ssc_arrowscroll;break;default:return!0}ssc_scrollArray(a,s,n),e.preventDefault()}function ssc_mousedown(e){ssc_activeElement=e.target}function ssc_setCache(e,t){for(var o=e.length;o--;)ssc_cache[ssc_uniqueID(e[o])]=t;return t}function ssc_overflowingAncestor(e){var t=[],o=ssc_root.scrollHeight;do{var i=ssc_cache[ssc_uniqueID(e)];if(i)return ssc_setCache(t,i);if(t.push(e),o===e.scrollHeight){if(!ssc_frame||ssc_root.clientHeight+10<o)return ssc_setCache(t,document.body)}else if(e.clientHeight+10<e.scrollHeight&&(overflow=getComputedStyle(e,"").getPropertyValue("overflow"),"scroll"===overflow||"auto"===overflow))return ssc_setCache(t,e)}while(e=e.parentNode)}function ssc_addEvent(e,t,o){window.addEventListener(e,t,o||!1)}function ssc_removeEvent(e,t,o){window.removeEventListener(e,t,o||!1)}function ssc_isNodeName(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()}function ssc_directionCheck(e,t){e=e>0?1:-1,t=t>0?1:-1,(ssc_direction.x!==e||ssc_direction.y!==t)&&(ssc_direction.x=e,ssc_direction.y=t,ssc_que=[])}function ssc_pulse_(e){var t,o,i;return e*=ssc_pulseScale,1>e?t=e-(1-Math.exp(-e)):(o=Math.exp(-1),e-=1,i=1-Math.exp(-e),t=o+i*(1-o)),t*ssc_pulseNormalize}function ssc_pulse(e){return e>=1?1:0>=e?0:(1==ssc_pulseNormalize&&(ssc_pulseNormalize/=ssc_pulse_(1)),ssc_pulse_(e))}var ssc_framerate=150,ssc_animtime=500,ssc_stepsize=150,ssc_pulseAlgorithm=!0,ssc_pulseScale=6,ssc_pulseNormalize=1,ssc_keyboardsupport=!0,ssc_arrowscroll=50,ssc_frame=!1,ssc_direction={x:0,y:0},ssc_initdone=!1,ssc_fixedback=!0,ssc_root=document.documentElement,ssc_activeElement,ssc_key={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},ssc_que=[],ssc_pending=!1,ssc_cache={};setInterval(function(){ssc_cache={}},1e4);var ssc_uniqueID=function(){var e=0;return function(t){return t.ssc_uniqueID||(t.ssc_uniqueID=e++)}}(),ischrome=/chrome/.test(navigator.userAgent.toLowerCase());ischrome&&(ssc_addEvent("mousedown",ssc_mousedown),ssc_addEvent("mousewheel",ssc_wheel),ssc_addEvent("load",ssc_init)),function(e,t,o,i){function s(t,o){this.el=t,this.$el=e(this.el),this.options=e.extend({},a,o),this._defaults=a,this._name=n,this.init()}var n="nivoLightbox",a={effect:"fade",theme:"default",keyboardNav:!0,clickOverlayToClose:!0,onInit:function(){},beforeShowLightbox:function(){},afterShowLightbox:function(e){},beforeHideLightbox:function(){},afterHideLightbox:function(){},onPrev:function(e){},onNext:function(e){},errorMessage:"The requested content cannot be loaded. Please try again later."};s.prototype={init:function(){var t=this;e("html").hasClass("nivo-lightbox-notouch")||e("html").addClass("nivo-lightbox-notouch"),"ontouchstart"in o&&e("html").removeClass("nivo-lightbox-notouch"),this.$el.on("click",function(e){t.showLightbox(e)}),this.options.keyboardNav&&e("body").off("keyup").on("keyup",function(o){var i=o.keyCode?o.keyCode:o.which;27==i&&t.destructLightbox(),37==i&&e(".nivo-lightbox-prev").trigger("click"),39==i&&e(".nivo-lightbox-next").trigger("click")}),this.options.onInit.call(this)},showLightbox:function(t){var o=this,i=this.$el,s=this.checkContent(i);if(s){t.preventDefault(),this.options.beforeShowLightbox.call(this);var n=this.constructLightbox();if(n){var a=n.find(".nivo-lightbox-content");if(a){if(e("body").addClass("nivo-lightbox-body-effect-"+this.options.effect),this.processContent(a,i),this.$el.attr("data-lightbox-gallery")){var c=e('[data-lightbox-gallery="'+this.$el.attr("data-lightbox-gallery")+'"]');e(".nivo-lightbox-nav").show(),e(".nivo-lightbox-prev").off("click").on("click",function(t){t.preventDefault();var s=c.index(i);i=c.eq(s-1),e(i).length||(i=c.last()),o.processContent(a,i),o.options.onPrev.call(this,[i])}),e(".nivo-lightbox-next").off("click").on("click",function(t){t.preventDefault();var s=c.index(i);i=c.eq(s+1),e(i).length||(i=c.first()),o.processContent(a,i),o.options.onNext.call(this,[i])})}setTimeout(function(){n.addClass("nivo-lightbox-open"),o.options.afterShowLightbox.call(this,[n])},1)}}}},checkContent:function(e){var t=e.attr("href"),o=t.match(/(youtube|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);return null!==t.match(/\.(jpeg|jpg|gif|png)$/i)?!0:o?!0:"ajax"==e.attr("data-lightbox-type")?!0:"#"==t.substring(0,1)&&"inline"==e.attr("data-lightbox-type")?!0:"iframe"==e.attr("data-lightbox-type")?!0:!1},processContent:function(o,i){var s=this,n=i.attr("href"),a=n.match(/(youtube|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);if(o.html("").addClass("nivo-lightbox-loading"),this.isHidpi()&&i.attr("data-lightbox-hidpi")&&(n=i.attr("data-lightbox-hidpi")),null!==n.match(/\.(jpeg|jpg|gif|png)$/i)){var c=e("<img>",{src:n});c.one("load",function(){var i=e('<div class="nivo-lightbox-image" />');i.append(c),o.html(i).removeClass("nivo-lightbox-loading"),i.css({"line-height":e(".nivo-lightbox-content").height()+"px",height:e(".nivo-lightbox-content").height()+"px"}),e(t).resize(function(){i.css({"line-height":e(".nivo-lightbox-content").height()+"px",height:e(".nivo-lightbox-content").height()+"px"})})}).each(function(){this.complete&&e(this).load()}),c.error(function(){var t=e('<div class="nivo-lightbox-error"><p>'+s.options.errorMessage+"</p></div>");o.html(t).removeClass("nivo-lightbox-loading")})}else if(a){var r="",l="nivo-lightbox-video";if("youtube"==a[1]&&(r="http://www.youtube.com/embed/"+a[4],l="nivo-lightbox-youtube"),"youtu"==a[1]&&(r="http://www.youtube.com/embed/"+a[3],l="nivo-lightbox-youtube"),"vimeo"==a[1]&&(r="http://player.vimeo.com/video/"+a[3],l="nivo-lightbox-vimeo"),r){var h=e("<iframe>",{src:r,"class":l,frameborder:0,vspace:0,hspace:0,scrolling:"auto"});o.html(h),h.load(function(){o.removeClass("nivo-lightbox-loading")})}}else if("ajax"==i.attr("data-lightbox-type"))e.ajax({url:n,cache:!1,success:function(i){var s=e('<div class="nivo-lightbox-ajax" />');s.append(i),o.html(s).removeClass("nivo-lightbox-loading"),s.outerHeight()<o.height()&&s.css({position:"relative",top:"50%","margin-top":-(s.outerHeight()/2)+"px"}),e(t).resize(function(){s.outerHeight()<o.height()&&s.css({position:"relative",top:"50%","margin-top":-(s.outerHeight()/2)+"px"})})},error:function(){var t=e('<div class="nivo-lightbox-error"><p>'+s.options.errorMessage+"</p></div>");o.html(t).removeClass("nivo-lightbox-loading")}});else if("#"==n.substring(0,1)&&"inline"==i.attr("data-lightbox-type"))if(e(n).length){var v=e('<div class="nivo-lightbox-inline" />');v.append(e(n).clone().show()),o.html(v).removeClass("nivo-lightbox-loading"),v.outerHeight()<o.height()&&v.css({position:"relative",top:"50%","margin-top":-(v.outerHeight()/2)+"px"}),e(t).resize(function(){v.outerHeight()<o.height()&&v.css({position:"relative",top:"50%","margin-top":-(v.outerHeight()/2)+"px"})})}else{var u=e('<div class="nivo-lightbox-error"><p>'+s.options.errorMessage+"</p></div>");o.html(u).removeClass("nivo-lightbox-loading")}else{if("iframe"!=i.attr("data-lightbox-type"))return!1;var g=e("<iframe>",{src:n,"class":"nivo-lightbox-item",frameborder:0,vspace:0,hspace:0,scrolling:"auto"});o.html(g),g.load(function(){o.removeClass("nivo-lightbox-loading")})}if(i.attr("title")){var d=e("<span>",{"class":"nivo-lightbox-title"});d.text(i.attr("title")),e(".nivo-lightbox-title-wrap").html(d)}else e(".nivo-lightbox-title-wrap").html("")},constructLightbox:function(){if(e(".nivo-lightbox-overlay").length)return e(".nivo-lightbox-overlay");var t=e("<div>",{"class":"nivo-lightbox-overlay nivo-lightbox-theme-"+this.options.theme+" nivo-lightbox-effect-"+this.options.effect}),o=e("<div>",{"class":"nivo-lightbox-wrap"}),i=e("<div>",{"class":"nivo-lightbox-content"}),s=e('<a href="#" class="nivo-lightbox-nav nivo-lightbox-prev">Previous</a><a href="#" class="nivo-lightbox-nav nivo-lightbox-next">Next</a>'),n=e('<a href="#" class="nivo-lightbox-close" title="Close">Close</a>'),a=e("<div>",{"class":"nivo-lightbox-title-wrap"}),c=0;c&&t.addClass("nivo-lightbox-ie"),o.append(i),o.append(a),t.append(o),t.append(s),t.append(n),e("body").append(t);var r=this;return r.options.clickOverlayToClose&&t.on("click",function(t){(t.target===this||e(t.target).hasClass("nivo-lightbox-content")||e(t.target).hasClass("nivo-lightbox-image"))&&r.destructLightbox()}),n.on("click",function(e){e.preventDefault(),r.destructLightbox()}),t},destructLightbox:function(){var t=this;this.options.beforeHideLightbox.call(this),e(".nivo-lightbox-overlay").removeClass("nivo-lightbox-open"),e(".nivo-lightbox-nav").hide(),e("body").removeClass("nivo-lightbox-body-effect-"+t.options.effect);var o=0;o&&(e(".nivo-lightbox-overlay iframe").attr("src"," "),e(".nivo-lightbox-overlay iframe").remove()),e(".nivo-lightbox-prev").off("click"),e(".nivo-lightbox-next").off("click"),e(".nivo-lightbox-content").empty(),this.options.afterHideLightbox.call(this)},isHidpi:function(){var e="(-webkit-min-device-pixel-ratio: 1.5),                              (min--moz-device-pixel-ratio: 1.5),                              (-o-min-device-pixel-ratio: 3/2),                              (min-resolution: 1.5dppx)";return t.devicePixelRatio>1?!0:t.matchMedia&&t.matchMedia(e).matches?!0:!1}},e.fn[n]=function(t){return this.each(function(){e.data(this,n)||e.data(this,n,new s(this,t))})}}(jQuery,window,document);